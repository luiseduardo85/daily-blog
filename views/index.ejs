<%- include("partials/header.ejs") %>

<% if (locals.posts.length > 0) { %>
    
        <div class="posts-container">
            <% for (let post of locals.posts) { %>
                <div class="post">
                    <h2 class="title"><%= post.title %></h2>
                    <p><%= post.text %></p>
                    <p>Published on <%= post.date %></p>
                    <div class="form-buttons">
                        <a class="edit-link edit btn" href="/update/<%= post.id %>">Edit</a>
                        <form action="/delete/<%= post.id %>" method="POST">
                            <button class="delete btn" type="submit">Delete</button>
                        </form>
                    </div>
                </div>
            <% } %>
        </div> 
<% } else { %>
    <div>
        <h2 class="title">Não há posts publicados</h2>
    </div>
<% } %>

<%- include("partials/footer.ejs") %>